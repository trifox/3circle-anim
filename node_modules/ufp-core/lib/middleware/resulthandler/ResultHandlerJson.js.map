{"version":3,"sources":["../../../src/middleware/resulthandler/ResultHandlerJson.js"],"names":["requestType","matcher","ufpHandling","ufpAction","requestResponse","ufpDefinition","status","handler","dispatch","dispatchAction","type","ufpTypes","SUCCESS","payload","ufpData","data","Promise","resolve"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,cAAc,MAApB;;AAEA,IAAMC,UAAU,SAAVA,OAAU,CAACC,WAAD,EAAiB;AAAA,QACtBC,SADsB,GACQD,WADR,CACtBC,SADsB;AAAA,QACXC,eADW,GACQF,WADR,CACXE,eADW;;AAE7B,WAAOD,UAAUE,aAAV,CAAwBL,WAAxB,KAAwCA,WAAxC,IAAuDI,gBAAgBE,MAAhB,KAA2B,GAAzF;AACH,CAHD;;AAKA,IAAMC,UAAU,SAAVA,OAAU,CAACL,WAAD,EAAiB;AAC7B;AAD6B,QAEtBM,QAFsB,GAEkBN,WAFlB,CAEtBM,QAFsB;AAAA,QAEZL,SAFY,GAEkBD,WAFlB,CAEZC,SAFY;AAAA,QAEDC,eAFC,GAEkBF,WAFlB,CAEDE,eAFC;AAG7B;AACA;;AACA,QAAIK,iBAAiB;AACjBC,cAAMP,UAAUQ,QAAV,CAAmBC,OADR;AAEjBC,iBAAS;AACLV,uBAAW,EAACW,SAASX,UAAUW,OAApB;AACPT,+BAAeF,UAAUE;AADlB,aADN;AAILU,kBAAMX,gBAAgBW;AAJjB;AAOb;AATqB,KAArB,CAUAP,SAASC,cAAT;AACA,WAAOO,QAAQC,OAAR,CAAgB,kCAAwB,IAAxB,EAA8B,IAA9B,EAAoC,KAApC,CAAhB,CAAP;AACH,CAjBD;;kBAmBe;AACXjB,4BADW;AAEXC,oBAFW;AAGXM;AAHW,C","file":"ResultHandlerJson.js","sourcesContent":["import ResultHandlerResult from '../utils/ResultHandlerResult'\n\nconst requestType = 'JSON'\n\nconst matcher = (ufpHandling) => {\n    const {ufpAction, requestResponse} = ufpHandling\n    return ufpAction.ufpDefinition.requestType === requestType && requestResponse.status === 200\n}\n\nconst handler = (ufpHandling) => {\n    // console.log('UFPMiddleware JSON handling: ', ufpHandling)\n    const {dispatch, ufpAction, requestResponse} = ufpHandling\n    //  // console.log('UFPResultHandler OK Handling ', ufpHandling)\n    // on succes dispatch the received data from here and return hanbdled=true AND success=true\n    var dispatchAction = {\n        type: ufpAction.ufpTypes.SUCCESS,\n        payload: {\n            ufpAction: {ufpData: ufpAction.ufpData,\n                ufpDefinition: ufpAction.ufpDefinition\n            },\n            data: requestResponse.data\n        }\n    }\n    // console.log('UFPMiddleware JSON dispatching', JSON.stringify(dispatchAction))\n    dispatch(dispatchAction)\n    return Promise.resolve(new ResultHandlerResult(true, true, false))\n}\n\nexport default {\n    requestType,\n    matcher,\n    handler\n}\n"]}