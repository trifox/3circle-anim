{"version":3,"sources":["../../src/middleware/Validation.js"],"names":["UFPTypes","shape","END","oneOfType","string","arrayOf","isRequired","FAILURE","REQUEST","SUCCESS","UFPActionPropTypes","UFP_REQUEST_ACTION","ufpDefinition","url","method","oneOf","RequestMethodConstants","GET","POST","DELETE","PATCH","PUT","requestType","actionConstants","object","ufpData","urlParams","queryParams","body","any","ufpTypes","ufpPayload","ufpResultHandler","matcher","func","handler","ufpPreHandler","UFPTypesPropTypes","isUFPAction","action","hasOwnProperty","validateUFPAction","ReactPropTypesCheck","e","err","Error"],"mappings":"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","file":"Validation.js","sourcesContent":["import UFPRequestActions from './UfpRequestActions'\nimport PropTypes from 'prop-types'\nimport UfpMiddlewareUtils from './UfpMiddlewareUtils'\nimport UfpMiddlewareConstants from './UfpMiddlewareConstants'\n\nconst UFPTypes = PropTypes.shape({\n    END: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string)\n    ]).isRequired,\n    FAILURE: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string)\n    ]).isRequired,\n    REQUEST: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string)\n    ]).isRequired,\n    SUCCESS: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string)\n    ]).isRequired\n}).isRequired\nconst UFPActionPropTypes = {\n    [UFPRequestActions.UFP_REQUEST_ACTION]: PropTypes.shape({\n        ufpDefinition: PropTypes.shape({\n            url: PropTypes.string.isRequired,\n            method: PropTypes.oneOf([\n                UfpMiddlewareConstants.RequestMethodConstants.GET,\n                UfpMiddlewareConstants.RequestMethodConstants.POST,\n                UfpMiddlewareConstants.RequestMethodConstants.DELETE,\n                UfpMiddlewareConstants.RequestMethodConstants.PATCH,\n                UfpMiddlewareConstants.RequestMethodConstants.PUT]).isRequired,\n            requestType: PropTypes.string,\n            actionConstants: PropTypes.object\n        }).isRequired,\n        ufpData: PropTypes.shape({\n            urlParams: PropTypes.object,\n            queryParams: PropTypes.object,\n            body: PropTypes.any\n        }).isRequired,\n        ufpTypes: PropTypes.object,\n        ufpPayload: PropTypes.object,\n        // ufpActionCreators: PropTypes.object,\n        ufpResultHandler: PropTypes.arrayOf(PropTypes.shape({\n            matcher: PropTypes.func.isRequired,\n            handler: PropTypes.func.isRequired\n        })).isRequired,\n        ufpPreHandler: PropTypes.arrayOf(PropTypes.shape({\n            matcher: PropTypes.func.isRequired,\n            handler: PropTypes.func.isRequired\n        })).isRequired\n    })\n}\nconst UFPTypesPropTypes = {\n    [UFPRequestActions.UFP_REQUEST_ACTION]: PropTypes.oneOfType([PropTypes.shape({\n        ufpTypes: UFPTypes\n    }), PropTypes.shape({\n        ufpDefinition: PropTypes.shape(\n            {\n                actionConstants: UFPTypes\n            })\n    })])\n}\n\nexport const isUFPAction = (action) => {\n    return typeof action === 'object' && action.hasOwnProperty(UFPRequestActions.UFP_REQUEST_ACTION)\n}\n\n/**\n * Checks an action against the RSAA definition, returning a (possibly empty)\n * array of validation errors.\n *\n * @function validateRSAA\n * @access public\n * @param {object} action - The action to check against the RSAA definition\n * @returns {array}\n */\nexport const validateUFPAction = (action) => {\n    try {\n        UfpMiddlewareUtils.ReactPropTypesCheck(action, UFPActionPropTypes, true)\n    }\n    catch (e) {\n        //  console.error('Validation returned check ', action)\n        //  console.error('Validation returned check ', action[UfpRequestActions.UFP_REQUEST_ACTION])\n        //  console.error('Validation returned check ', action[UfpRequestActions.UFP_REQUEST_ACTION]['ufpTypes'])\n        // console.error('Validation returned ', e)\n        //  console.error('--->' + e + '<--')\n        return [e]\n    }\n    try {\n        UfpMiddlewareUtils.ReactPropTypesCheck(action, UFPTypesPropTypes, true)\n    }\n    catch (e) {\n        //console.error('Validation returned check ', e.message)\n        var err = new Error('Failed prop type: The prop `UFPREQUESTACTION.ufpTypes` or ' +\n            '`UFPREQUESTACTION.ufpDefinition.actionConstants` need to be defined')\n        return [err]\n    }\n    return []\n}\n\nexport default {\n    isUFPAction,\n    validateUFPAction\n}\n"]}