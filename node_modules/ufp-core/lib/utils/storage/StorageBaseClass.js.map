{"version":3,"sources":["../../../src/utils/storage/StorageBaseClass.js"],"names":["StorageBaseClass","storageKey","key","value","obj","JSON","parse","window","localStorage","getItem","setItem","stringify","defaultVal","undefined","keyArray","removeItem"],"mappings":";;;;;;;;;;;;;;AAAA;;;;IAEMA,gB;AAEF,8BAAYC,UAAZ,EAAwB;AAAA;;AACpB,aAAKA,UAAL,GAAkBA,UAAlB;AACH;;;;gCAEOC,G,EAAKC,K,EAAO;AAChB,gBAAIC,MAAMC,KAAKC,KAAL,CAAWC,OAAOC,YAAP,CAAoBC,OAApB,CAA4B,KAAKR,UAAjC,CAAX,KAA4D,EAAtE;AACAG,gBAAIF,GAAJ,IAAWC,KAAX;AACAI,mBAAOC,YAAP,CAAoBE,OAApB,CAA4B,KAAKT,UAAjC,EAA6CI,KAAKM,SAAL,CAAeP,GAAf,CAA7C;AACH;;;gCAEOF,G,EAAKU,U,EAAY;AACrB,gBAAIR,MAAMC,KAAKC,KAAL,CAAWC,OAAOC,YAAP,CAAoBC,OAApB,CAA4B,KAAKR,UAAjC,CAAX,KAA4D,EAAtE;AACA,gBAAI,CAACG,IAAIF,GAAJ,CAAL,EAAe;AACXE,oBAAIF,GAAJ,IAAWU,UAAX;AACAL,uBAAOC,YAAP,CAAoBE,OAApB,CAA4B,KAAKT,UAAjC,EAA6CI,KAAKM,SAAL,CAAeP,GAAf,CAA7C;AACH;AACD,mBAAOA,IAAIF,GAAJ,CAAP;AACH;;;+BAEMA,G,EAAK;AACR,gBAAIE,MAAMC,KAAKC,KAAL,CAAWC,OAAOC,YAAP,CAAoBC,OAApB,CAA4B,KAAKR,UAAjC,CAAX,KAA4D,EAAtE;AACA,gBAAIG,IAAIF,GAAJ,CAAJ,EAAc;AACVE,oBAAIF,GAAJ,IAAWW,SAAX;AACH;AACDN,mBAAOC,YAAP,CAAoBE,OAApB,CAA4B,KAAKT,UAAjC,EAA6CI,KAAKM,SAAL,CAAeP,GAAf,CAA7C;AACH;;AAED;;;;wCACgBU,Q,EAAU;AACtB,gBAAIV,MAAMC,KAAKC,KAAL,CAAWC,OAAOC,YAAP,CAAoBC,OAApB,CAA4B,KAAKR,UAAjC,CAAX,KAA4D,EAAtE;AACA,iBAAK,IAAIC,GAAT,IAAgBE,GAAhB,EAAqB;AACjB,oBAAI,CAAC,wBAAUU,QAAV,EAAoBZ,GAApB,CAAL,EAA+B;AAC3B,wBAAIE,IAAIF,GAAJ,CAAJ,EAAc;AACVE,4BAAIF,GAAJ,IAAWW,SAAX;AACH;AACJ;AACJ;AACDN,mBAAOC,YAAP,CAAoBE,OAApB,CAA4B,KAAKT,UAAjC,EAA6CI,KAAKM,SAAL,CAAeP,GAAf,CAA7C;AACH;;;gCAEO;AACJG,mBAAOC,YAAP,CAAoBO,UAApB,CAA+B,KAAKd,UAApC;AACH;;;;;kBAIUD,gB","file":"StorageBaseClass.js","sourcesContent":["import {_Includes} from '../JSUtils'\r\n\r\nclass StorageBaseClass {\r\n\r\n    constructor(storageKey) {\r\n        this.storageKey = storageKey\r\n    }\r\n\r\n    setItem(key, value) {\r\n        var obj = JSON.parse(window.localStorage.getItem(this.storageKey)) || {}\r\n        obj[key] = value\r\n        window.localStorage.setItem(this.storageKey, JSON.stringify(obj))\r\n    }\r\n\r\n    getItem(key, defaultVal) {\r\n        var obj = JSON.parse(window.localStorage.getItem(this.storageKey)) || {}\r\n        if (!obj[key]) {\r\n            obj[key] = defaultVal\r\n            window.localStorage.setItem(this.storageKey, JSON.stringify(obj))\r\n        }\r\n        return obj[key]\r\n    }\r\n\r\n    remove(key) {\r\n        var obj = JSON.parse(window.localStorage.getItem(this.storageKey)) || {}\r\n        if (obj[key]) {\r\n            obj[key] = undefined\r\n        }\r\n        window.localStorage.setItem(this.storageKey, JSON.stringify(obj))\r\n    }\r\n\r\n    // removes all key they are not in keArray\r\n    removeAllExcept(keyArray) {\r\n        var obj = JSON.parse(window.localStorage.getItem(this.storageKey)) || {}\r\n        for (var key in obj) {\r\n            if (!_Includes(keyArray, key)) {\r\n                if (obj[key]) {\r\n                    obj[key] = undefined\r\n                }\r\n            }\r\n        }\r\n        window.localStorage.setItem(this.storageKey, JSON.stringify(obj))\r\n    }\r\n\r\n    clear() {\r\n        window.localStorage.removeItem(this.storageKey)\r\n    }\r\n\r\n}\r\n\r\nexport default StorageBaseClass\r\n"]}