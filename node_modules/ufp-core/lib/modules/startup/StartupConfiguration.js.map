{"version":3,"sources":["../../../src/modules/startup/StartupConfiguration.js"],"names":["StartupStages","StartupConfiguration","get","reset","epic","startupInit","startupStep","startupFinish","stage","name","actionCreator","actionCreatorParams","required","actionNameSuccess","actionNameFailure","stageString","pad","push","registerStagedResource"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;;;AACA;;;;;;AAEA,IAAIA,gBAAgB,EAApB;;IAEMC,oB;;;;aAkEFC,G,GAAM;AAAA,mBAAMF,aAAN;AAAA,S;;aACNG,K,GAAQ,YAAM;AACVH,4BAAgB,EAAhB;AACH,S;;;;;+BAnEM;AACH,oCAAa,EAACI,MAAM,sBAAYC,WAAnB,EAAb;AACA,oCAAa,EAACD,MAAM,sBAAYE,WAAnB,EAAb;AACA,oCAAa,EAACF,MAAM,sBAAYG,aAAnB,EAAb;AACH;;;qDAWE;AAAA,gBARCC,KAQD,QARCA,KAQD;AAAA,gBAPCC,IAOD,QAPCA,IAOD;AAAA,gBANCC,aAMD,QANCA,aAMD;AAAA,6CALCC,mBAKD;AAAA,gBALCA,mBAKD,yCALuB,EAKvB;AAAA,qCAJCC,QAID;AAAA,gBAJCA,QAID,iCAJY,IAIZ;AAAA,gBAHCC,iBAGD,QAHCA,iBAGD;AAAA,gBAFCC,iBAED,QAFCA,iBAED;;AACC,gBAAIC,cAAc,kBAAQC,GAAR,CAAY,KAAZ,EAAmBR,KAAnB,CAAlB,CADD,CAC6C;AAC5C,gBAAI,CAACR,cAAc,UAAUe,WAAxB,CAAL,EAA2C;AACvCf,8BAAc,UAAUe,WAAxB,IAAuC,EAAvC;AACH;AACDf,0BAAc,UAAUe,WAAxB,EAAqCE,IAArC,CAA0C;AACtCR,sBAAMA,IADgC;AAEtCG,0BAAUA,QAF4B;AAGtCF,+BAAeA,aAHuB;AAItCC,qCAAqBA,mBAJiB;AAKtCE,mCAAmBA,iBALmB;AAMtCC,mCAAmBA;AANmB,aAA1C;AAQH;;;sDAQE;AAAA,gBALCL,IAKD,SALCA,IAKD;AAAA,gBAJCC,aAID,SAJCA,aAID;AAAA,gBAHCC,mBAGD,SAHCA,mBAGD;AAAA,gBAFCE,iBAED,SAFCA,iBAED;AAAA,gBADCC,iBACD,SADCA,iBACD;;AACC,iBAAKI,sBAAL,CAA4B;AACxBV,uBAAO,CADiB;AAExBC,sBAAMA,IAFkB;AAGxBC,+BAAeA,aAHS;AAIxBC,qCAAqBA,mBAJG;AAKxBE,mCAAmBA,iBALK;AAMxBC,mCAAmBA;AANK,aAA5B;AAQH;;;sDAQE;AAAA,gBALCL,IAKD,SALCA,IAKD;AAAA,gBAJCC,aAID,SAJCA,aAID;AAAA,gBAHCC,mBAGD,SAHCA,mBAGD;AAAA,gBAFCE,iBAED,SAFCA,iBAED;AAAA,gBADCC,iBACD,SADCA,iBACD;;AACC,iBAAKI,sBAAL,CAA4B;AACxBV,uBAAO,CADiB;AAExBC,sBAAMA,IAFkB;AAGxBC,+BAAeA,aAHS;AAIxBC,qCAAqBA,mBAJG;AAKxBE,mCAAmBA,iBALK;AAMxBC,mCAAmBA;AANK,aAA5B;AAQH;;;;;kBAQU,IAAIb,oBAAJ,E","file":"StartupConfiguration.js","sourcesContent":["import {registerEpic} from '../epic'\nimport StartupEpic from './StartupEpic'\nimport JSUtils from '../../utils/JSUtils'\n\nvar StartupStages = {}\n\nclass StartupConfiguration {\n\n    init() {\n        registerEpic({epic: StartupEpic.startupInit})\n        registerEpic({epic: StartupEpic.startupStep})\n        registerEpic({epic: StartupEpic.startupFinish})\n    }\n\n    registerStagedResource({\n        stage,\n        name,\n        actionCreator,\n        actionCreatorParams = [],\n        required = true,\n        actionNameSuccess,\n        actionNameFailure\n\n    }) {\n        var stageString = JSUtils.pad('000', stage) //for lexicographically sort\n        if (!StartupStages['stage' + stageString]) {\n            StartupStages['stage' + stageString] = []\n        }\n        StartupStages['stage' + stageString].push({\n            name: name,\n            required: required,\n            actionCreator: actionCreator,\n            actionCreatorParams: actionCreatorParams,\n            actionNameSuccess: actionNameSuccess,\n            actionNameFailure: actionNameFailure\n        })\n    }\n\n    registerStage0Resource({\n        name,\n        actionCreator,\n        actionCreatorParams,\n        actionNameSuccess,\n        actionNameFailure\n    }) {\n        this.registerStagedResource({\n            stage: 0,\n            name: name,\n            actionCreator: actionCreator,\n            actionCreatorParams: actionCreatorParams,\n            actionNameSuccess: actionNameSuccess,\n            actionNameFailure: actionNameFailure\n        })\n    }\n\n    registerStage1Resource({\n        name,\n        actionCreator,\n        actionCreatorParams,\n        actionNameSuccess,\n        actionNameFailure\n    }) {\n        this.registerStagedResource({\n            stage: 1,\n            name: name,\n            actionCreator: actionCreator,\n            actionCreatorParams: actionCreatorParams,\n            actionNameSuccess: actionNameSuccess,\n            actionNameFailure: actionNameFailure\n        })\n    }\n\n    get = () => StartupStages\n    reset = () => {\n        StartupStages = {}\n    }\n\n}\nexport default new StartupConfiguration()\n"]}